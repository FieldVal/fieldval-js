<h1 id="errors">Errors</h1>
<p>FieldVal libraries use a common error structure to make it easy to transport errors straight from a validation check, all the way to an end user.</p>
<p>An error has the following basic structure:</p>
<pre><code class="lang-json">{
    &quot;error_message&quot;: &quot;A message describing the error&quot;,
    &quot;error&quot;: 1017//A number associated with this particular error
}
</code></pre>
<h1 id="object-errors">Object Errors</h1>
<p>When validating the object:</p>
<pre><code class="lang-json">{
    &quot;my_integer&quot;: &quot;Not an integer&quot;,
    &quot;my_string&quot;: 23,
    &quot;curveball&quot;: &quot;Not expected!&quot;
}
</code></pre>
<p>The following error might be created:</p>
<pre><code class="lang-json">{
    &quot;error_message&quot;: &quot;One or more errors.&quot;,
    &quot;error&quot;: 0,
    &quot;invalid&quot;: {
        &quot;my_string&quot;: {
            &quot;error_message&quot;: &quot;Incorrect field type. Expected string.&quot;,
            &quot;error&quot;: 2,
            &quot;expected&quot;: &quot;string&quot;,
            &quot;received&quot;: &quot;number&quot;
        },
        &quot;my_integer&quot;: {
            &quot;error_message&quot;: &quot;Incorrect field type. Expected integer.&quot;,
            &quot;error&quot;: 2,
            &quot;expected&quot;: &quot;integer&quot;,
            &quot;received&quot;: &quot;string&quot;
        }
    },
    &quot;missing&quot;: {
        &quot;my_array&quot;: {
            &quot;error_message&quot;: &quot;Field missing.&quot;,
            &quot;error&quot;: 1
        }
    },
    &quot;unrecognized&quot;: {
        &quot;curveball&quot;: {
            &quot;error_message&quot;: &quot;Unrecognized field.&quot;,
            &quot;error&quot;: 3
        }
    }
}
</code></pre>
<p>This error outlines 3 categories of issues with the provided data -</p>
<ul>
<li><p><code>invalid</code></p>
<p>  These fields were provided, but there was something wrong with the values.</p>
<ul>
<li><code>my_integer</code> isn&#39;t an integer - it&#39;s a string</li>
<li><code>my_string</code> isn&#39;t a string - it&#39;s a integer</li>
</ul>
</li>
<li><pre><code class="lang-missing```">
  These fields were indicated as required during validation, but they aren&#39;t in the data.

  * ```my_array
</code></pre>
</li>
<li><p><code>unrecognized</code></p>
<p>  When validation ended, these fields hadn&#39;t been looked for, but they were sent.</p>
<ul>
<li><code>curveball</code> wasn&#39;t a valid field to send</li>
</ul>
</li>
</ul>
<h1 id="one-field-multiple-errors">One field, multiple errors</h1>
<p>FieldVal&#39;s default behaviour is to stop checking a field after the first error is found, but sometimes it&#39;s useful to report multiple errors for the same value. In this case, errors are structured as follows:</p>
<pre><code class="lang-json">{
    &quot;error&quot;: 4,
    &quot;error_message&quot;: &quot;Multiple errors.&quot;,
    &quot;errors&quot;: [
        {
            &quot;error&quot;: 106,
            &quot;error_message&quot;: &quot;Value does not have prefix: ABC&quot;
        },
        {
            &quot;error&quot;: 110,
            &quot;error_message&quot;: &quot;Value does not have suffix: XYZ&quot;
        }
    ]
}
</code></pre>
